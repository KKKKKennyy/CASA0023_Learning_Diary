<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>LearningDiary - Week 03 Remote sensing data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week04.html" rel="next">
<link href="./Week02.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week03.html">Week 03 Remote sensing data</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">LearningDiary</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 01 Introduction to remote sensing</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 02 Portfolio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week03.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Week 03 Remote sensing data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 04 SAR applications &amp; Policies</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 06 Introduction to GEE</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 07 Classification I</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 08 Classification II</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 0</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">1. Summary</a>
  <ul class="collapse">
  <li><a href="#corrections" id="toc-corrections" class="nav-link" data-scroll-target="#corrections">1.1. Corrections</a></li>
  <li><a href="#image-joining" id="toc-image-joining" class="nav-link" data-scroll-target="#image-joining">1.2. Image Joining</a></li>
  <li><a href="#image-enhancement" id="toc-image-enhancement" class="nav-link" data-scroll-target="#image-enhancement">1.3. Image Enhancement</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application">2. Application</a></li>
  <li><a href="#reflecion" id="toc-reflecion" class="nav-link" data-scroll-target="#reflecion">3. Reflecion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 03 Remote sensing data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">1. Summary</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/Week3Mindmap.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Mindmap of W3 Summary</figcaption>
</figure>
</div>
<section id="corrections" class="level3">
<h3 class="anchored" data-anchor-id="corrections">1.1. Corrections</h3>
<section id="geometric" class="level4">
<h4 class="anchored" data-anchor-id="geometric">1.1.1. Geometric</h4>
<section id="definition" class="level5">
<h5 class="anchored" data-anchor-id="definition">Definition</h5>
<p>When remote sensing data are collected, <em>the sensor is not pointing directly down to the ground</em>; <em>elevation changes due to the undulations of the terrain</em>; <em>changes in the trajectory of the vehicle due to winds</em>; <em>and the relative motion of the satellite with respect to the earth</em> can all lead to image distortion. Correction for such images is <strong>geometric correction</strong>.</p>
</section>
<section id="solution" class="level5">
<h5 class="anchored" data-anchor-id="solution">Solution</h5>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/GeometricSolution.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Workflow of Geometric Correction</figcaption>
</figure>
</div>
<ul>
<li><p>In accurate matching of remote sensing images, more complex nonlinear transformation models may be chosen.</p></li>
<li><p>Much like the GIS application of overlaying old maps into modern GIS. Geo-matching process to ensure accuracy and spatial consistency of maps.</p></li>
</ul>
</section>
</section>
<section id="atmospheric" class="level4">
<h4 class="anchored" data-anchor-id="atmospheric">1.1.2. Atmospheric</h4>
<section id="definition-1" class="level5">
<h5 class="anchored" data-anchor-id="definition-1">Definition</h5>
<p><em>Atmospheric scattering and topographic attenuation</em> both cause environmental attenuation; in addition, <em>particles and gases in the atmosphere absorb and scatter</em> light, which can create haze that reduces contrast and sharpness in an image. Radiation produces an <em>“adjacency effect”</em> that causes pixels in an image to be affected by surrounding pixels, which affects sharpness. The correction for this type of image is <strong>Atmospheric correction</strong>.</p>
<p><strong><em>Regarding the question on page P26 unnecessary</em></strong>: <em>Why is atmospheric correction not necessary for all such images</em>?</p>
<p><strong><em>Answer</em></strong>: Actually it depends largely on the <strong>data</strong> and the <strong>purpose</strong>. If it is <em>just some simple classification task</em>, and highly accurate spectral information is not needed, then there is no need to do Atmospheric correction. Or there is <em>no way to do atmospheric correction when time and resources are limited</em>. Or maybe some <em>data have already been atmospherically corrected,</em> for example, both <strong>USGS Landsat</strong> and <strong>ESA Sentinel</strong> mention on their official websites that they use atmospheric correction to process the data.</p>
</section>
<section id="solution-1" class="level5">
<h5 class="anchored" data-anchor-id="solution-1">Solution</h5>
<p>There are 6 methods of atmospheric correction provided in the lecture, and the compiled notes are as follows. My preference is the fifth one because most of the functions or functions can be implemented directly by calling them. With the development of python, the Py6S library makes it easier to use atmospheric radiative transfer models including MODTRAN 4+ and Second Simulation of the Satellite Signal in the Solar Spectrum. The sixth is the most interesting to me, and appears to allow measurements to be made with a handheld device, and then linear relationships to be established to correct the remotely sensed data.</p>
<p>It is worth noting, however, that when comparing data before and after calibration, it is necessary to <strong>ensure that the scales are consistent</strong> (e.g., P29).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/AtmosphericSolution.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Atmospheric Solution Types</figcaption>
</figure>
</div>
</section>
</section>
<section id="topographic-orthorectification" class="level4">
<h4 class="anchored" data-anchor-id="topographic-orthorectification">1.1.3. Topographic (Orthorectification)</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/OrthorectificationOverview.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Orthorectification / Topographic Correction Overview</figcaption>
</figure>
</div>
<section id="definition-2" class="level5">
<h5 class="anchored" data-anchor-id="definition-2">Definition</h5>
<p>Orthorectification correction is a subset of geometric correction, where the image is distorted because <em>the sensor is not pointing directly below the ground</em>. The correction to remove the distortion in the image is <strong>Orthorectification correction</strong>.</p>
</section>
<section id="solution-2" class="level5">
<h5 class="anchored" data-anchor-id="solution-2">Solution</h5>
<p><strong>Sensor geometry information</strong> including sensor position, attitude and viewing angle is required to determine the actual position of the pixel on the ground. The terrain variations are then taken into account in conjunction with the <strong>Digital Elevation Model (DEM)</strong> to correct image distortions.</p>
<p>In searching for the Digital Elevation Model, I found that Orthorectification correction is only one direction of its application. At its core, it still contains <strong>information on topographic relief, slope and aspect</strong>, which can be used not only for remote sensing data correction, but also for modelling water flow paths, flood risk areas and hydrological processes. Its applications are covered in the next “2. Application” section.</p>
</section>
</section>
<section id="radiometric" class="level4">
<h4 class="anchored" data-anchor-id="radiometric">1.1.4. Radiometric</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/RadiometricOverview.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Radiometric Correction Overview</figcaption>
</figure>
</div>
<section id="definition-3" class="level5">
<h5 class="anchored" data-anchor-id="definition-3">Definition</h5>
<p><em>The radiance of image data can be inconsistent across time, location, and sensor</em>, <strong>Radiometric Calibration</strong> calibrates the response of a sensor by converting the digital number count (DN) of an image into a physically meaningful radiance or emissivity value.</p>
</section>
<section id="solution-3" class="level5">
<h5 class="anchored" data-anchor-id="solution-3">Solution</h5>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/RadiometricSolution.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Workflow of Radiometric Correction</figcaption>
</figure>
</div>
<ul>
<li><p><strong>Bias</strong> is a constant that represents the zero offset of the sensor. It is used to adjust the output of the sensor to ensure that the zero drift of the sensor is taken into account in the radiance calculation.</p></li>
<li><p><strong>Gain</strong> is a scaling factor that is used to convert a digital number (DN) to an actual radiance value. It represents the increase in radiance corresponding to each digital count value (DN) to convert to true radiance.</p></li>
</ul>
</section>
</section>
</section>
<section id="image-joining" class="level3">
<h3 class="anchored" data-anchor-id="image-joining">1.2. Image Joining</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/DataJoining.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Feathering Overview</figcaption>
</figure>
</div>
<ul>
<li><p>In data joining for remote sensing, Mosaicking and Feathering are more like an assembly line. First, Mosaicking stitches multiple remote sensing images together to form a <strong>continuous</strong>, <strong>seamless</strong> whole. Then Feathering creates <strong>smooth transitions</strong> in the overlapping areas.</p></li>
<li><p>Feathering works by reducing the impact of one image while increasing the impact of another at the boundaries, which may be achieved by <em>weighted averaging of pixel values</em>, <em>modifying the transparency or opacity of the alpha channel</em>, or <em>gradient blending techniques</em>.</p></li>
</ul>
</section>
<section id="image-enhancement" class="level3">
<h3 class="anchored" data-anchor-id="image-enhancement">1.3. Image Enhancement</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ImageEnhancement.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Enhancement Methods Overview</figcaption>
</figure>
</div>
<p>The class briefly went over 7 methods of image enhancement, each with <strong>different scenarios</strong> of application. Just like <strong>photo retouching</strong>, different parameters (contrast, sharpening, texture) focus on different parts. The best ones for me to understand are Contrast Enhancement, Band Ratioing, Edge Enhancement, and Texture, because their purpose is clear: to enhance the details in an image or to highlight certain parts of a feature (<em>Maybe because of the extensive photo retouching, it is easier to understand how the methods for highlighting image features work hahahahahahahahaha</em>). The most difficult one is PCA, which I once remembered from my undergraduate algorithms class, and I will try my best to cover its different applications in the “Application” section.</p>
</section>
</section>
<section id="application" class="level2">
<h2 class="anchored" data-anchor-id="application">2. Application</h2>
</section>
<section id="reflecion" class="level2">
<h2 class="anchored" data-anchor-id="reflecion">3. Reflecion</h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week02.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Week 02 Portfolio</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week04.html" class="pagination-link">
        <span class="nav-page-text">Week 04 SAR applications &amp; Policies</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>